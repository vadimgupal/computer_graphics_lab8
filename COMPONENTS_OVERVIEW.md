# –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã —Å–∏—Å—Ç–µ–º—ã –∫–∞–º–µ—Ä—ã - –û–±–∑–æ—Ä

## –ö–ª–∞—Å—Å Camera (main.py, —Å—Ç—Ä–æ–∫–∏ ~200-300)

### –ê—Ç—Ä–∏–±—É—Ç—ã

```python
position: np.array([x, y, z])    # –ü–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã –≤ –º–∏—Ä–æ–≤—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞—Ö
target: np.array([x, y, z])      # –¢–æ—á–∫–∞, –Ω–∞ –∫–æ—Ç–æ—Ä—É—é —Å–º–æ—Ç—Ä–∏—Ç –∫–∞–º–µ—Ä–∞
up: np.array([x, y, z])          # –í–µ–∫—Ç–æ—Ä "–≤–≤–µ—Ä—Ö" (–æ–±—ã—á–Ω–æ [0, 1, 0])
fov: float                       # –ü–æ–ª–µ –∑—Ä–µ–Ω–∏—è –≤ –≥—Ä–∞–¥—É—Å–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 60¬∞)
aspect: float                    # –°–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–µ —Å—Ç–æ—Ä–æ–Ω (—à–∏—Ä–∏–Ω–∞/–≤—ã—Å–æ—Ç–∞)
near, far: float                 # –ü–ª–æ—Å–∫–æ—Å—Ç–∏ –æ—Ç—Å–µ—á–µ–Ω–∏—è

# –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ä–±–∏—Ç—ã
orbit_radius: float              # –†–∞—Å—Å—Ç–æ—è–Ω–∏–µ –æ—Ç –∫–∞–º–µ—Ä—ã –¥–æ —Ü–µ–ª–∏
orbit_theta: float               # –ê–∑–∏–º—É—Ç–∞–ª—å–Ω—ã–π —É–≥–æ–ª (–≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö)
orbit_phi: float                 # –£–≥–æ–ª –≤—ã—Å–æ—Ç—ã (–≤ —Ä–∞–¥–∏–∞–Ω–∞—Ö)
```

### –ü—É–±–ª–∏—á–Ω—ã–µ –º–µ—Ç–æ–¥—ã

#### get_view_direction() ‚Üí np.array

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–æ—Ä–º–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π –≤–µ–∫—Ç–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–∑–æ—Ä–∞ (–æ—Ç –∫–∞–º–µ—Ä—ã –∫ —Ü–µ–ª–∏).

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```python
direction = camera.get_view_direction()
# –†–µ–∑—É–ª—å—Ç–∞—Ç: [dx, dy, dz] - –µ–¥–∏–Ω–∏—á–Ω—ã–π –≤–µ–∫—Ç–æ—Ä
```

#### get_view_matrix() ‚Üí np.ndarray (4√ó4)

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Ç—Ä–∏—Ü—É –≤–∏–¥–∞ –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è –º–∏—Ä–æ–≤—ã—Ö –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–∞–º–µ—Ä—ã.

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1. –í—ã—á–∏—Å–ª—è–µ—Ç forward = normalize(target - position)
2. –í—ã—á–∏—Å–ª—è–µ—Ç right = normalize(cross(forward, up))
3. –í—ã—á–∏—Å–ª—è–µ—Ç true_up = cross(right, forward)
4. –°—Ç—Ä–æ–∏—Ç –º–∞—Ç—Ä–∏—Ü—É –ø–æ–≤–æ—Ä–æ—Ç–∞ –∏–∑ –±–∞–∑–∏—Å–Ω—ã—Ö –≤–µ–∫—Ç–æ—Ä–æ–≤
5. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –ø–µ—Ä–µ–Ω–æ—Å: View = Rotation √ó Translation

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```python
view_matrix = camera.get_view_matrix()
transformed_polyhedron = polyhedron.apply(view_matrix)
```

#### get_projection_matrix() ‚Üí np.ndarray (4√ó4)

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –º–∞—Ç—Ä–∏—Ü—É –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–æ–π –ø—Ä–æ–µ–∫—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–ª—è –∑—Ä–µ–Ω–∏—è.

**–§–æ—Ä–º—É–ª–∞:**

```python
f = 1.0 / tan(fov / 2)
```

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```python
proj_matrix = camera.get_projection_matrix()
x, y = polyhedron.projected(proj_matrix)
```

#### orbit_rotate(delta_theta: float, delta_phi: float)

–í—Ä–∞—â–∞–µ—Ç –∫–∞–º–µ—Ä—É –≤–æ–∫—Ä—É–≥ —Ü–µ–ª–µ–≤–æ–π —Ç–æ—á–∫–∏ –ø–æ —Å—Ñ–µ—Ä–∏—á–µ—Å–∫–æ–π —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `delta_theta` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –∞–∑–∏–º—É—Ç–∞–ª—å–Ω–æ–≥–æ —É–≥–ª–∞ (–≥—Ä–∞–¥—É—Å—ã), –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ = –≤–ø—Ä–∞–≤–æ
- `delta_phi` - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —É–≥–ª–∞ –≤—ã—Å–æ—Ç—ã (–≥—Ä–∞–¥—É—Å—ã), –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω–æ–µ = –≤–≤–µ—Ä—Ö

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

- phi –æ–≥—Ä–∞–Ω–∏—á–µ–Ω ¬±89¬∞ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è gimbal lock

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```python
camera.orbit_rotate(45, 0)   # –ü–æ–≤–æ—Ä–æ—Ç –Ω–∞ 45¬∞ –≤–ø—Ä–∞–≤–æ
camera.orbit_rotate(0, 30)   # –ü–æ–¥—ä–µ–º –Ω–∞ 30¬∞
camera.orbit_rotate(-10, 5)  # –ü–æ–≤–æ—Ä–æ—Ç –≤–ª–µ–≤–æ + –ø–æ–¥—ä–µ–º
```

#### zoom(delta: float)

–ü—Ä–∏–±–ª–∏–∂–∞–µ—Ç –∏–ª–∏ –æ—Ç–¥–∞–ª—è–µ—Ç –∫–∞–º–µ—Ä—É –æ—Ç —Ü–µ–ª–∏.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `delta` > 0 - –ø—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ –∫ –æ–±—ä–µ–∫—Ç—É
- `delta` < 0 - –æ—Ç–¥–∞–ª–µ–Ω–∏–µ –æ—Ç –æ–±—ä–µ–∫—Ç–∞

**–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**

- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ: 0.5 –µ–¥–∏–Ω–∏—Ü—ã

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```python
camera.zoom(2)   # –ü—Ä–∏–±–ª–∏–∑–∏—Ç—å—Å—è –Ω–∞ 2 –µ–¥–∏–Ω–∏—Ü—ã
camera.zoom(-1)  # –û—Ç–¥–∞–ª–∏—Ç—å—Å—è –Ω–∞ 1 –µ–¥–∏–Ω–∏—Ü—É
```

#### set_target(target: array-like)

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –Ω–æ–≤—É—é —Ü–µ–ª–µ–≤—É—é —Ç–æ—á–∫—É –¥–ª—è –∫–∞–º–µ—Ä—ã.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```python
camera.set_target([0, 0, 0])  # –°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –Ω–∞—á–∞–ª–æ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç
camera.set_target([5, 2, 3])  # –°–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —Ç–æ—á–∫—É (5, 2, 3)
```

#### reset(position: array-like = None, target: array-like = None)

–°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫–∞–º–µ—Ä—É –≤ —É–∫–∞–∑–∞–Ω–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ.

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**

```python
camera.reset()  # –°–±—Ä–æ—Å–∏—Ç—å —Ç–µ–∫—É—â–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ—Ä–±–∏—Ç—ã
camera.reset(position=[0, 2, 5], target=[0, 0, 0])  # –ü–æ–ª–Ω—ã–π —Å–±—Ä–æ—Å
```

---

## –§—É–Ω–∫—Ü–∏—è project_points (main.py, —Å—Ç—Ä–æ–∫–∏ ~420-490)

### –°–∏–≥–Ω–∞—Ç—É—Ä–∞

```python
def project_points(
    P: Polyhedron,
    proj_mode: str,
    f: float = 1.8,
    view_vector=None,
    cull_backfaces=False,
    camera=None
) -> Tuple[np.array, np.array, List[Tuple[int, int]]]
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã

- `P` - –º–Ω–æ–≥–æ–≥—Ä–∞–Ω–Ω–∏–∫ –¥–ª—è –ø—Ä–æ–µ–∫—Ü–∏–∏
- `proj_mode` - —Ä–µ–∂–∏–º –ø—Ä–æ–µ–∫—Ü–∏–∏: 'perspective', 'isometric', –∏–ª–∏ 'camera'
- `f` - —Ñ–æ–∫—É—Å–Ω–æ–µ —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ (—Ç–æ–ª—å–∫–æ –¥–ª—è 'perspective')
- `view_vector` - –≤–µ–∫—Ç–æ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ–±–∑–æ—Ä–∞ (–¥–ª—è –æ—Ç—Å–µ—á–µ–Ω–∏—è –≥—Ä–∞–Ω–µ–π)
- `cull_backfaces` - –≤–∫–ª—é—á–∏—Ç—å –æ—Ç—Å–µ—á–µ–Ω–∏–µ –Ω–µ–ª–∏—Ü–µ–≤—ã—Ö –≥—Ä–∞–Ω–µ–π
- `camera` - –æ–±—ä–µ–∫—Ç Camera (—Ç—Ä–µ–±—É–µ—Ç—Å—è –¥–ª—è —Ä–µ–∂–∏–º–∞ 'camera')

### –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ

–ö–æ—Ä—Ç–µ–∂ –∏–∑ —Ç—Ä–µ—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:

- `x` - –º–∞—Å—Å–∏–≤ X-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—Ä–æ–µ—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω
- `y` - –º–∞—Å—Å–∏–≤ Y-–∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –ø—Ä–æ–µ—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–µ—Ä—à–∏–Ω
- `edges` - —Å–ø–∏—Å–æ–∫ —Ä–µ–±–µ—Ä –∫–∞–∫ –ø–∞—Ä –∏–Ω–¥–µ–∫—Å–æ–≤ –≤–µ—Ä—à–∏–Ω

### –ê–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è —Ä–µ–∂–∏–º–∞ 'camera'

1. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∞—Ç—Ä–∏—Ü—É –≤–∏–¥–∞ –∫–∞–º–µ—Ä—ã –∫ –æ–±—ä–µ–∫—Ç—É
2. –í—ã–ø–æ–ª–Ω—è–µ—Ç –æ—Ç—Å–µ—á–µ–Ω–∏–µ –Ω–µ–ª–∏—Ü–µ–≤—ã—Ö –≥—Ä–∞–Ω–µ–π (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
3. –ü—Ä–∏–º–µ–Ω—è–µ—Ç –º–∞—Ç—Ä–∏—Ü—É –ø—Ä–æ–µ–∫—Ü–∏–∏ –∫–∞–º–µ—Ä—ã
4. –í—ã–ø–æ–ª–Ω—è–µ—Ç –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–æ–µ –¥–µ–ª–µ–Ω–∏–µ
5. –°—Ç—Ä–æ–∏—Ç —Å–ø–∏—Å–æ–∫ –≤–∏–¥–∏–º—ã—Ö —Ä–µ–±–µ—Ä

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
# –° –∫–∞–º–µ—Ä–æ–π
camera = Camera(position=[3, 3, 5], target=[0, 0, 0])
x, y, edges = project_points(
    cube,
    proj_mode='camera',
    camera=camera,
    cull_backfaces=True
)

# –ë–∞–∑–æ–≤–∞—è –ø–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–∞
x, y, edges = project_points(cube, 'perspective')

# –ò–∑–æ–º–µ—Ç—Ä–∏—è
x, y, edges = project_points(cube, 'isometric')
```

---

## –ö–ª–∞—Å—Å App - –ú–µ—Ç–æ–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä–æ–π (main.py, —Å—Ç—Ä–æ–∫–∏ ~1050-1150)

### camera_orbit(direction_horizontal: int, direction_vertical: int)

–í—Ä–∞—â–∞–µ—Ç –∫–∞–º–µ—Ä—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ GUI.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `direction_horizontal` - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª–∏ (-1 = –≤–ª–µ–≤–æ, 1 = –≤–ø—Ä–∞–≤–æ, 0 = –Ω–µ—Ç)
- `direction_vertical` - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ –≤–µ—Ä—Ç–∏–∫–∞–ª–∏ (-1 = –≤–Ω–∏–∑, 1 = –≤–≤–µ—Ä—Ö, 0 = –Ω–µ—Ç)

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–Ω–æ–ø–∫–∞–º:**

```python
ttk.Button(frame, text='‚óÑ –í–ª–µ–≤–æ', command=lambda: self.camera_orbit(-1, 0))
ttk.Button(frame, text='–í–ø—Ä–∞–≤–æ ‚ñ∫', command=lambda: self.camera_orbit(1, 0))
ttk.Button(frame, text='‚ñ≤ –í–≤–µ—Ä—Ö', command=lambda: self.camera_orbit(0, 1))
ttk.Button(frame, text='–í–Ω–∏–∑ ‚ñº', command=lambda: self.camera_orbit(0, -1))
```

### camera_zoom(direction: int)

–ü—Ä–∏–±–ª–∏–∂–∞–µ—Ç/–æ—Ç–¥–∞–ª—è–µ—Ç –∫–∞–º–µ—Ä—É —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∑–Ω–∞—á–µ–Ω–∏—è —à–∞–≥–∞ –∏–∑ GUI.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**

- `direction` - –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (1 = –ø—Ä–∏–±–ª–∏–∑–∏—Ç—å, -1 = –æ—Ç–¥–∞–ª–∏—Ç—å)

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∫–Ω–æ–ø–∫–∞–º:**

```python
ttk.Button(frame, text='+ –ü—Ä–∏–±–ª–∏–∑–∏—Ç—å', command=lambda: self.camera_zoom(1))
ttk.Button(frame, text='‚àí –û—Ç–¥–∞–ª–∏—Ç—å', command=lambda: self.camera_zoom(-1))
```

### camera_set_position()

–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –∫–∞–º–µ—Ä—ã –∏ —Ü–µ–ª—å –∏–∑ –ø–æ–ª–µ–π –≤–≤–æ–¥–∞ GUI.

**–ò—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–æ–ª—è:**

- `cam_pos_x_entry`, `cam_pos_y_entry`, `cam_pos_z_entry` - –ø–æ–∑–∏—Ü–∏—è –∫–∞–º–µ—Ä—ã
- `cam_target_x_entry`, `cam_target_y_entry`, `cam_target_z_entry` - —Ü–µ–ª—å

### camera_reset()

–°–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∫–∞–º–µ—Ä—É –≤ –Ω–∞—á–∞–ª—å–Ω–æ–µ –ø–æ–ª–æ–∂–µ–Ω–∏–µ (0, 2, 5) ‚Üí (0, 0, 0).

### update_camera_fields()

–û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—è –≤–≤–æ–¥–∞ GUI —Ç–µ–∫—É—â–∏–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏ –∫–∞–º–µ—Ä—ã.

**–í—ã–∑—ã–≤–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ—Å–ª–µ:**

- –û—Ä–±–∏—Ç–∞–ª—å–Ω–æ–≥–æ –≤—Ä–∞—â–µ–Ω–∏—è
- –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏—è/–æ—Ç–¥–∞–ª–µ–Ω–∏—è
- –°–±—Ä–æ—Å–∞ –∫–∞–º–µ—Ä—ã

### toggle_auto_rotate()

–í–∫–ª—é—á–∞–µ—Ç/–≤—ã–∫–ª—é—á–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ –∫–∞–º–µ—Ä—ã.

**–°–≤—è–∑–∞–Ω–æ —Å:**

- –ß–µ–∫–±–æ–∫—Å–æ–º `auto_rotate`
- –ü–æ–ª–µ–º `auto_rotate_speed_entry`

### animate_camera()

–ú–µ—Ç–æ–¥ –∞–Ω–∏–º–∞—Ü–∏–∏, –≤—ã–∑—ã–≤–∞–µ–º—ã–π –∫–∞–∂–¥—ã–µ 33 –º—Å (~30 FPS).

**–ê–ª–≥–æ—Ä–∏—Ç–º:**

1. –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, –≤–∫–ª—é—á–µ–Ω–æ –ª–∏ –∞–≤—Ç–æ–≤—Ä–∞—â–µ–Ω–∏–µ
2. –ß–∏—Ç–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∏–∑ –ø–æ–ª—è –≤–≤–æ–¥–∞
3. –í—Ä–∞—â–∞–µ—Ç –∫–∞–º–µ—Ä—É –Ω–∞ –∑–∞–¥–∞–Ω–Ω—ã–π —É–≥–æ–ª
4. –û–±–Ω–æ–≤–ª—è–µ—Ç –ø–æ–ª—è GUI
5. –ü–µ—Ä–µ—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç —Å—Ü–µ–Ω—É
6. –ü–ª–∞–Ω–∏—Ä—É–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –∫–∞–¥—Ä

---

## GUI –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∫–∞–º–µ—Ä—ã

### –†–∞–¥–∏–æ–∫–Ω–æ–ø–∫–∏ —Ä–µ–∂–∏–º–∞ –ø—Ä–æ–µ–∫—Ü–∏–∏

```python
self.proj_var = tk.StringVar(value='perspective')

rb_persp = ttk.Radiobutton(
    top, text='–ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è', value='perspective',
    variable=self.proj_var, command=self.redraw
)

rb_iso = ttk.Radiobutton(
    top, text='–ê–∫—Å–æ–Ω–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è', value='isometric',
    variable=self.proj_var, command=self.redraw
)

rb_camera = ttk.Radiobutton(
    top, text='–ö–∞–º–µ—Ä–∞', value='camera',
    variable=self.proj_var, command=self.redraw
)
```

### –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–∞–º–µ—Ä–æ–π

**–ú–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ:** –ü–æ—Å–ª–µ –ø–∞–Ω–µ–ª–∏ –æ—Ç—Å–µ—á–µ–Ω–∏—è –≥—Ä–∞–Ω–µ–π

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**

1. **–û—Ä–±–∏—Ç–∞–ª—å–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ**

   - –ü–æ–ª—è –≤–≤–æ–¥–∞: `cam_azimuth_entry`, `cam_elevation_entry`
   - –ö–Ω–æ–ø–∫–∏: ‚óÑ –í–ª–µ–≤–æ, –í–ø—Ä–∞–≤–æ ‚ñ∫, ‚ñ≤ –í–≤–µ—Ä—Ö, –í–Ω–∏–∑ ‚ñº

2. **–ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ**

   - –ü–æ–ª–µ –≤–≤–æ–¥–∞: `cam_zoom_entry`
   - –ö–Ω–æ–ø–∫–∏: + –ü—Ä–∏–±–ª–∏–∑–∏—Ç—å, ‚àí –û—Ç–¥–∞–ª–∏—Ç—å

3. **–ü–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ**

   - –ü–æ–ª—è –ø–æ–∑–∏—Ü–∏–∏: `cam_pos_x/y/z_entry`
   - –ü–æ–ª—è —Ü–µ–ª–∏: `cam_target_x/y/z_entry`
   - –ö–Ω–æ–ø–∫–∏: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å, –°–±—Ä–æ—Å

4. **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ**
   - –ß–µ–∫–±–æ–∫—Å: `auto_rotate` (BooleanVar)
   - –ü–æ–ª–µ —Å–∫–æ—Ä–æ—Å—Ç–∏: `auto_rotate_speed_entry`

---

## –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –æ—Ç—Å–µ—á–µ–Ω–∏–µ–º –≥—Ä–∞–Ω–µ–π

### –í —Ä–µ–∂–∏–º–µ 'camera'

```python
if proj_mode == 'camera' and camera is not None:
    view_matrix = camera.get_view_matrix()
    Q = Q.apply(view_matrix)

    if cull_backfaces:
        # –í–µ–∫—Ç–æ—Ä –æ–±–∑–æ—Ä–∞ –≤ —Å–∏—Å—Ç–µ–º–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç –∫–∞–º–µ—Ä—ã
        view_vector = np.array([0.0, 0.0, -1.0])
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –≥—Ä–∞–Ω–∏

```python
for face in Q.faces:
    if face.normal is not None:
        face_center = np.mean(vertices_3d[:, face.indices], axis=1)
        view_to_face = normalize(face_center)
        dot_product = np.dot(face.normal, view_to_face)

        if dot_product < 0:  # –ì—Ä–∞–Ω—å –ª–∏—Ü–µ–≤–∞—è
            visible_faces.append(face)
```

---

## –ü—Ä–∏–º–µ—Ä—ã —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ö—Ä—É–≥–æ–≤–æ–π –æ–±–ª–µ—Ç

```python
camera = Camera(position=[5, 2, 0], target=[0, 0, 0])

for angle in range(0, 360, 10):
    camera.orbit_rotate(10, 0)
    x, y, edges = project_points(cube, 'camera', camera=camera)
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞–¥—Ä–∞...
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –°–ø–∏—Ä–∞–ª—å–Ω—ã–π –ø–æ–¥—ä–µ–º

```python
camera = Camera(position=[5, -3, 0], target=[0, 0, 0])

for i in range(20):
    camera.orbit_rotate(18, 9)  # 18¬∞ –ø–æ –∞–∑–∏–º—É—Ç—É, 9¬∞ –≤–≤–µ—Ä—Ö
    x, y, edges = project_points(cube, 'camera', camera=camera)
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞–¥—Ä–∞...
```

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ —Å –≤—Ä–∞—â–µ–Ω–∏–µ–º

```python
camera = Camera(position=[10, 5, 10], target=[0, 0, 0])

for i in range(10):
    camera.orbit_rotate(36, 0)  # –ü–æ–≤–æ—Ä–æ—Ç
    camera.zoom(0.8)             # –ü—Ä–∏–±–ª–∏–∂–µ–Ω–∏–µ
    x, y, edges = project_points(cube, 'camera', camera=camera)
    # –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–∞–¥—Ä–∞...
```

---

## –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–æ—Ä–º—É–ª—ã

### –°—Ñ–µ—Ä–∏—á–µ—Å–∫–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã

```
x = r √ó cos(œÜ) √ó sin(Œ∏)
y = r √ó sin(œÜ)
z = r √ó cos(œÜ) √ó cos(Œ∏)

–≥–¥–µ:
r = orbit_radius (—Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ)
Œ∏ = orbit_theta (–∞–∑–∏–º—É—Ç, —Ä–∞–¥–∏–∞–Ω—ã)
œÜ = orbit_phi (–≤—ã—Å–æ—Ç–∞, —Ä–∞–¥–∏–∞–Ω—ã)
```

### –ú–∞—Ç—Ä–∏—Ü–∞ –≤–∏–¥–∞

```
      ‚îå             ‚îê
      ‚îÇ rx  ry  rz  0 ‚îÇ
View= ‚îÇ ux  uy  uz  0 ‚îÇ
      ‚îÇ-fx -fy -fz  0 ‚îÇ
      ‚îÇ  0   0   0  1 ‚îÇ
      ‚îî             ‚îò
      √ó
      ‚îå                          ‚îê
      ‚îÇ  1   0   0  -position.x ‚îÇ
      ‚îÇ  0   1   0  -position.y ‚îÇ
      ‚îÇ  0   0   1  -position.z ‚îÇ
      ‚îÇ  0   0   0       1      ‚îÇ
      ‚îî                          ‚îò

–≥–¥–µ:
r = right –≤–µ–∫—Ç–æ—Ä
u = up –≤–µ–∫—Ç–æ—Ä
f = forward –≤–µ–∫—Ç–æ—Ä (–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ–±–∑–æ—Ä–∞)
```

### –ü–µ—Ä—Å–ø–µ–∫—Ç–∏–≤–Ω–∞—è –ø—Ä–æ–µ–∫—Ü–∏—è

```
f = 1 / tan(FOV/2)

      ‚îå           ‚îê
      ‚îÇ 1  0  0  0‚îÇ
Proj= ‚îÇ 0  1  0  0‚îÇ
      ‚îÇ 0  0  1  0‚îÇ
      ‚îÇ 0  0  f  0‚îÇ
      ‚îî           ‚îò

–ü–æ—Å–ª–µ –ø—Ä–æ–µ–∫—Ü–∏–∏:
x' = x / w
y' = y / w
–≥–¥–µ w = z √ó f
```

---

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- –û—Ç—Å–µ—á–µ–Ω–∏–µ –Ω–µ–ª–∏—Ü–µ–≤—ã—Ö –≥—Ä–∞–Ω–µ–π —Å–æ–∫—Ä–∞—â–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ–º—ã—Ö —Ä–µ–±–µ—Ä –Ω–∞ ~50%
- –ß–∞—Å—Ç–æ—Ç–∞ –∞–Ω–∏–º–∞—Ü–∏–∏: ~30 FPS (33 –º—Å –Ω–∞ –∫–∞–¥—Ä)
- –ú–∞—Ç—Ä–∏—á–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é NumPy (–æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω—ã)

### –°–ª–æ–∂–Ω–æ—Å—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤

- –û—Ä–±–∏—Ç–∞–ª—å–Ω–æ–µ –≤—Ä–∞—â–µ–Ω–∏–µ: O(1)
- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ç—Ä–∏—Ü—ã –≤–∏–¥–∞: O(1)
- –ü—Ä–æ–µ–∫—Ü–∏—è –≤–µ—Ä—à–∏–Ω: O(n), –≥–¥–µ n - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–µ—Ä—à–∏–Ω
- –û—Ç—Å–µ—á–µ–Ω–∏–µ –≥—Ä–∞–Ω–µ–π: O(f), –≥–¥–µ f - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≥—Ä–∞–Ω–µ–π

---

**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞!** üìö‚ú®
